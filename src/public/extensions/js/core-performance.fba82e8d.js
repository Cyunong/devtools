(function(e){function t(t){for(var a,o,s=t[0],c=t[1],u=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={"core-performance":0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(){return Promise.resolve()},o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/extensions/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([4,"chunk-vendors","chunk-common"]),n()})({"3a3d":function(e,t,n){},4:function(e,t,n){e.exports=n("6870")},6870:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r=n("7864"),i=n("2aa9"),o=(n("f3fc"),n("ab0d"),n("b58f")),s=(n("47b1"),n("59eb")),c=(n("250e"),n("38e9")),u=(n("4af4"),Object(a["hb"])("data-v-2bd90b7e"));Object(a["I"])("data-v-2bd90b7e");var l={class:"performance"},d=Object(a["n"])("开始"),h=Object(a["n"])("结束"),f=Object(a["n"])("清空"),p=Object(a["n"])("导出"),m={class:"tip"},v={class:"init main-text"},g=Object(a["n"])(" 请点击 “开始” 按钮开始收集性能数据，点击 “结束” 按钮结束收集 "),b=Object(a["o"])("div",{class:"sub-tip accent-text"}," 由于记录的是实时性能数据，在点击“开始”后的数据收集时间内，请确保页面有进行“渲染”或者触发了一些“JS 事件”，否则收集到的数据可能为空 ",-1),w={class:"collecting main-text"},O=Object(a["o"])("i",{class:"el-icon-loading",style:{"font-size":"18px"}},null,-1),y=Object(a["n"])(" 数据收集中...... "),x={class:"analysing main-text"},j=Object(a["o"])("i",{class:"el-icon-loading",style:{"font-size":"18px"}},null,-1),M=Object(a["n"])(" 数据解析中...... "),T={key:0,style:{margin:"10px 15px"}},C=Object(a["o"])("h4",{class:"main-text"},"帧率统计：",-1),S=Object(a["o"])("h4",{class:"main-text"},"Core 堆栈数据",-1),k=Object(a["o"])("h4",{class:"main-text"},"JS 堆栈数据",-1);Object(a["G"])();var z=u((function(e,t,n,r,z,F){var W=c["a"],D=s["a"],E=o["a"],V=i["a"],R=Object(a["O"])("performance-chart"),B=Object(a["O"])("flame-graph");return Object(a["F"])(),Object(a["k"])("div",l,[Object(a["o"])(V,{style:{padding:"20px"}},{default:u((function(){return[Object(a["o"])(E,{class:"row-bg",justify:"end",type:"flex"},{default:u((function(){return[Object(a["o"])(D,{size:"mini"},{default:u((function(){return[Object(a["o"])(W,{type:"primary",disabled:e.startBtnDisabled,onClick:e.start,icon:"el-icon-check",size:"mini"},{default:u((function(){return[d]})),_:1},8,["disabled","onClick"]),Object(a["o"])(W,{type:"primary",disabled:e.endBtnDisabled,onClick:e.stop,icon:"el-icon-close",size:"mini"},{default:u((function(){return[h]})),_:1},8,["disabled","onClick"]),Object(a["o"])(W,{type:"primary",disabled:e.clearBtnDisabled,onClick:e.clear,icon:"el-icon-delete",size:"mini"},{default:u((function(){return[f]})),_:1},8,["disabled","onClick"]),Object(a["o"])(W,{type:"primary",disabled:e.clearBtnDisabled,onClick:e.exportData,icon:"el-icon-download",size:"mini"},{default:u((function(){return[p]})),_:1},8,["disabled","onClick"])]})),_:1})]})),_:1})]})),_:1}),Object(a["o"])("div",m,[Object(a["eb"])(Object(a["o"])("div",v,[g,b],512),[[a["ab"],e.isInitState]]),Object(a["eb"])(Object(a["o"])("div",w,[O,y],512),[[a["ab"],e.isCollectingState]]),Object(a["eb"])(Object(a["o"])("div",x,[j,M],512),[[a["ab"],e.isAnalysingState]])]),e.isCollectedState?(Object(a["F"])(),Object(a["k"])("div",T,[C,Object(a["o"])(R,{option:e.option,class:"charts",ref:"chartRef",onSelectedOption:e.updateFlameData},null,8,["option","onSelectedOption"]),S,Object(a["o"])(B,{"end-time":e.endTime,"persist-view":!0,"start-time":e.startTime,trace:e.renderCoreTrace,traceMap:e.renderCoreTraceMap,"truncate-labels":!0,"viewport-height":e.viewportHeight,"viewport-width":e.viewportWidth,class:"flame-graph",ref:"coreFlamegraphRef"},null,8,["end-time","start-time","trace","traceMap","viewport-height","viewport-width"]),k,Object(a["o"])(B,{"end-time":e.isIOS&&e.renderV8Trace.length?0:e.endTime,"persist-view":!0,"start-time":e.isIOS&&e.renderV8Trace.length?0:e.startTime,trace:e.renderV8Trace,traceMap:e.renderV8TraceMap,"truncate-labels":!0,"viewport-height":e.viewportHeight,"viewport-width":e.viewportWidth,class:"flame-graph",ref:"v8flamegraphRef"},null,8,["end-time","start-time","trace","traceMap","viewport-height","viewport-width"])])):Object(a["l"])("",!0)])})),F=n("3835"),W=(n("0d03"),n("5502")),D=n("84a2"),E=n.n(D),V=n("cd3f"),R=n.n(V);function B(e,t,n,r,i,o){return Object(a["F"])(),Object(a["k"])("div",{style:e.style,ref:"chart"},null,4)}n("4795");var I,H=n("313e"),P=n("e088"),$=Object(a["p"])({name:"PerformanceChart",props:{width:{type:String,default:"100%"},height:{type:String,default:"200px"},option:{type:Object,default:null}},watch:{option:{handler:function(e,t){I?setTimeout((function(){e?I.setOption(e):I.setOption(t)}),1e3):this.init()},deep:!0}},computed:{style:function(){var e=this.height,t=this.width;return{height:e,width:t}}},methods:{init:function(){var e=this;I&&I.dispose();var t=Object(P["a"])()?"dark":"";I=H["a"](this.$refs.chart,t),I.setOption(this.option),I.on("click",(function(t){var n=[t.offsetX,t.offsetY];if(I.containPixel("grid",n)){var a=I.convertFromPixel({seriesIndex:0},[t.offsetX,t.offsetY])[0];e.$emit("selected-option",a)}}))},resize:function(){I.resize()}}});$.render=B;var N=$;function Z(e,t,n,r,i,o){var s=Object(a["O"])("mini-show"),c=Object(a["O"])("time-line"),u=Object(a["O"])("canvas-render");return Object(a["F"])(),Object(a["k"])("div",null,[Object(a["o"])(s,{ref:"minishow","renderable-trace":e.renderableTrace,"renderable-trace-groups":e.renderableTraceGroups,dragging:e.dragging,"drag-moved":e.dragMoved,selection:e.selection,hovered:e.hovered,center:e.center,"vertical-offset":e.verticalOffset,"default-center":e.defaultCenter,zoom:e.zoom,"default-zoom":e.defaultZoom,zooming:e.zooming,extents:e.extents,"min-zoom":e.miniZoom,"viewport-width":e.viewportWidth,"viewport-height":e.viewportHeight,"start-time":e.startTime,"on-state-change":e.handleStateChange,onOnStateChange:e.handleStateChange},null,8,["renderable-trace","renderable-trace-groups","dragging","drag-moved","selection","hovered","center","vertical-offset","default-center","zoom","default-zoom","zooming","extents","min-zoom","viewport-width","viewport-height","start-time","on-state-change","onOnStateChange"]),Object(a["o"])(c,{ref:"timeline","viewport-width":e.viewportWidth,zoom:e.zoom,center:e.center,extents:e.extents},null,8,["viewport-width","zoom","center","extents"]),Object(a["o"])("div",{style:{cursor:e.dragging?"grabbing":"grab",position:"relative"}},[Object(a["o"])(u,{ref:"canvasrender","renderable-trace":e.renderableTrace,"renderable-trace-groups":e.renderableTraceGroups,dragging:e.dragging,"drag-moved":e.dragMoved,selection:e.selection,hovered:e.hovered,center:e.center,"vertical-offset":e.verticalOffset,"default-center":e.defaultCenter,zoom:e.zoom,"default-zoom":e.defaultZoom,zooming:e.zooming,extents:e.extents,"min-zoom":e.miniZoom,"viewport-width":e.viewportWidth,"viewport-height":e.viewportHeight,"truncate-labels":e.truncateLabels,"start-time":e.startTime,"on-state-change":e.handleStateChange,onOnStateChange:e.handleStateChange},null,8,["renderable-trace","renderable-trace-groups","dragging","drag-moved","selection","hovered","center","vertical-offset","default-center","zoom","default-zoom","zooming","extents","min-zoom","viewport-width","viewport-height","truncate-labels","start-time","on-state-change","onOnStateChange"])],4)])}var A=n("2909"),_=(n("a9e3"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("a434"),n("acd8"),n("9129"),n("4160"),n("159b"),n("b64b"),n("5b0a")),G={class:"wrap"};function L(e,t,n,r,i,o){return Object(a["F"])(),Object(a["k"])("div",G,[Object(a["o"])("canvas",{ref:"canvas",style:{width:"".concat(e.viewportWidth,"px"),height:"".concat(e.canvasHeight,"px")},width:e.viewportWidth,height:e.canvasHeight,onMousedown:t[1]||(t[1]=function(){return e.mouseDown&&e.mouseDown.apply(e,arguments)}),onMousemove:t[2]||(t[2]=function(){return e.mouseMove&&e.mouseMove.apply(e,arguments)}),onMouseout:t[3]||(t[3]=function(){return e.mouseOut&&e.mouseOut.apply(e,arguments)}),onClick:t[4]||(t[4]=function(){return e.click&&e.click.apply(e,arguments)})},null,44,["width","height"])])}n("7db0"),n("a630");var X=n("d4ec"),Y=n("bee2"),U=n("b012"),J=n.n(U),K=(n("caad"),n("2532"),n("fb6a"),n("ac1f"),n("841c"),1),q=18,Q=1,ee=1,te=(window.location.search.slice(1).includes("large"),100),ne=8,ae=!0,re=35,ie=!1,oe=!0,se=!0,ce=!1,ue=2,le=!1,de="2d";function he(e){var t=window.devicePixelRatio||1,n=e.getBoundingClientRect();return e.width=n.width*t,e.height=n.height*t,e.style.width="".concat(n.width,"px"),e.style.height="".concat(n.height,"px"),t}function fe(e,t){var n=t instanceof HTMLCanvasElement?t.getBoundingClientRect():{left:0,top:0},a=e.clientX-n.left,r=e.clientY-n.top;return{canvasMouseX:a,canvasMouseY:r}}var pe=function(){function e(){var t=this;Object(X["a"])(this,e),this.endWheel=J()((function(e){e({zooming:!1})}),100),this.handleWheel=function(e,n,a){e.preventDefault(),e.stopPropagation();var r=fe(e,n),i=r.canvasMouseX,o=i-a.viewportWidth/2,s=a.zoom*(1+.005*-e.deltaY),c=a.center+o/K/a.zoom-o/K/s;t.clampZoom(s,a.minZoom)!==a.zoom&&(a.onStateChange({zooming:!0,zoom:s,center:c}),t.endWheel(a.onStateChange))}}return Object(Y["a"])(e,[{key:"clampZoom",value:function(e,t){return Math.max(t,Math.min(te,e))}}]),e}();n("10d1"),n("99af"),n("13d5");function me(e,t){return function(n){return t.has(n)||t.set(n,e(n)),t.get(n)||e(n)}}var ve=new WeakMap;function ge(){return[Math.floor(256*(1-.4*Math.random())),Math.floor(256*(1-.5*Math.random())),Math.floor(256*(1-.6*Math.random()))]}function be(e,t,n){var a=e.center,r=Math.max(t.measure.duration*K*e.zoom-ee,0),i=q,o=(t.measure.startTime-a)*K*e.zoom+e.viewportWidth/2,s=t.stackIndex*(q+Q)+n;return{width:r,height:i,x:o,y:s,inView:!(o+r<0||e.viewportWidth<o)}}function we(e,t){return"".concat(e.slice(0,t),"…").concat(e.slice(e.length-1-t))}var Oe=function(){function e(){Object(X["a"])(this,e)}return Object(Y["a"])(e,[{key:"getMeasureColor",value:function(e){var t=me((function(){return ge()}),ve)(e);return t}},{key:"getMeasureColorRGB",value:function(e){var t=this,n=me((function(){var n=t.getMeasureColor(e);return"rgba(".concat(n[0],",").concat(n[1],",").concat(n[2],", 0.8)")}),ve)(e);return n}},{key:"getMaxStackIndex",value:function(e){return me((function(){return e.reduce((function(e,t){return Math.max(t.stackIndex,e)}),0)}),ve)(e)}}]),e}(),ye=50,xe=2,je=6,Me=new Oe,Te=Object(a["p"])({components:{},props:{renderableTrace:{type:Array,default:function(){return[]}},renderableTraceGroups:{type:Object,default:function(){return new Map}},extents:{type:Object,default:function(){return{startOffset:0,endOffset:0,size:0}}},selection:{type:Object,default:function(){return{}}},hovered:{type:Object,default:function(){return{}}},center:{type:Number,default:0},defaultCenter:{type:Number,default:0},viewportWidth:{type:Number,default:0},zoom:{type:Number,default:1},minZoom:{type:Number,default:0},defaultZoom:{type:Number,default:0},zooming:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},dragMoved:{type:Boolean,default:!1},onStateChange:{type:Function,default:null}},data:function(){return{canvas:null,mouse:{mouseX:0,mouseY:0,isMouseDown:!1},canvasHeight:0,barHeight:0}},watch:{center:function(){this.didUpdate()},viewportWidth:function(){this.didUpdate()}},methods:{init:function(){this.canvas=this.$refs.canvas,this.barHeight=this.caleBarHeight(),this.canvasHeight=this.caleHeight(),document.addEventListener("mouseup",this.mouseUp),this.canvas instanceof HTMLCanvasElement&&this.canvas.addEventListener("wheel",this.handleWheel),this.renderCanvas()},didUpdate:function(){var e=this;this.$nextTick((function(){e.renderCanvas()}))},caleHeight:function(){var e=this.barHeight*(Me.getMaxStackIndex(this.renderableTrace)+1);return e<ye?ye:e},caleBarHeight:function(){var e=this.renderableTrace.find((function(e){return e.stackIndex>ye/je})),t=void 0===e?je:xe;return t},renderCanvas:function(){var e=this.$refs.canvas;if(e instanceof HTMLCanvasElement){var t=this.getCanvasContext(e);t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height);for(var n=this.renderableTraceGroups||new Map,a=Array.from(n.keys()),r=0,i=r,o=0,s=a;o<s.length;o++){var c=s[o],u=n.get(c);if(u){this.renderCanvasGroupMinimap(u,t,r);var l=Me.getMaxStackIndex(u);r+=(l+1)*this.barHeight}}var d=r;this.renderMinimapShade(t,i,d)}},renderMinimapShade:function(e,t,n){var a=this.center,r=this.extents,i=this.viewportWidth,o=this.zoom,s=(a-r.startOffset)/r.size,c=i/(r.size*o),u=s-c/2,l=s+c/2,d=Math.max(n-t,ye);e.fillStyle="rgba(200,200,200,0.2)",e.fillRect(0,t,Math.max(u,0)*i,d),e.fillRect(Math.min(l,1)*i,t,i-Math.min(l,1)*i,d)},renderCanvasGroupMinimap:function(e,t,n){var a=e[0];if(null!==a){var r=this.$props,i=r.extents,o=r.viewportWidth,s=this.barHeight;e.forEach((function(e){var a=Math.max(e.measure.duration/i.size*o,1),r=(e.measure.startTime-i.startOffset)/i.size*o,c=e.stackIndex*s+n;t.fillStyle=Me.getMeasureColorRGB(e.measure),t.fillRect(r,c,a,s)}))}},getCanvasContext:function(e){return Object(_["a"])((function(e){if(e){var t=e.getContext(de,oe?{alpha:!1}:{});if(se){var n=he(e);t.scale(n,n)}return t}}))(e)},mouseDown:function(){this.mouse.isMouseDown=!0},mouseMove:function(e){var t=this.getCanvasMousePos(e),n=t.canvasMouseX,a=t.canvasMouseY;this.mouse.mouseX=n,this.mouse.mouseY=a,this.mouse.isMouseDown&&this.setCenterFromMousePos(e)},mouseUp:function(){this.mouse.isMouseDown=!1},mouseOut:function(){this.mouse.isMouseDown=!1},click:function(e){this.setCenterFromMousePos(e)},handleWheel:function(e){var t=new pe;t.handleWheel(e,this.canvas,this.$props)},getCanvasMousePos:function(e){return fe(e,this.canvas)},setCenterFromMousePos:function(e){var t=this.getCanvasMousePos(e),n=t.canvasMouseX,a=n/this.viewportWidth*this.extents.size+this.extents.startOffset;this.$emit("onStateChange",{center:a})}}});Te.render=L;var Ce=Te,Se=Object(a["hb"])("data-v-2c4a0b52"),ke=Se((function(e,t,n,r,i,o){var s=Object(a["O"])("tool-tip");return Object(a["F"])(),Object(a["k"])("div",{class:"wrap",style:{width:"".concat(e.viewportWidth,"px"),height:"".concat(e.canvasHeight,"px")}},[Object(a["o"])("canvas",{ref:"canvas",style:{width:"".concat(e.viewportWidth,"px"),height:"".concat(e.canvasHeight,"px")},width:e.viewportWidth,height:e.canvasHeight,onMousedown:t[1]||(t[1]=function(){return e.mouseDown&&e.mouseDown.apply(e,arguments)}),onMousemove:t[2]||(t[2]=function(){return e.mouseMove&&e.mouseMove.apply(e,arguments)}),onMouseout:t[3]||(t[3]=function(){return e.mouseOut&&e.mouseOut.apply(e,arguments)})},null,44,["width","height"]),Object(a["o"])(s,{mouse:e.mouse,"tool-tip-show":e.tooltip.show,text:e.tooltip.textContent||""},null,8,["mouse","tool-tip-show","text"])],4)}));n("b0c0"),n("b680"),n("4de4");function ze(e,t,n,r,i,o){return Object(a["eb"])((Object(a["F"])(),Object(a["k"])("div",{ref:"toop-tip",class:"wrap",style:{userSelect:"none",position:"absolute",backgroundColor:"white",fontSize:10,fontFamily:" Lucida Grande",padding:"2px 4px",boxShadow:"3px 3px 5px rgba(0,0,0,0.4)",left:"".concat(e.tooltipX,"px"),top:"".concat(e.tooltipY,"px")}},Object(a["S"])(e.text),5)),[[a["ab"],e.toolTipShow]])}var Fe=Object(a["p"])({components:{},props:{text:{type:String,default:""},mouse:{type:Object,default:function(){return{mouseX:0,mouseY:0}}},toolTipShow:{type:Boolean,default:!1}},computed:{tooltipX:function(){return this.mouse.mouseX+ne},tooltipY:function(){return this.mouse.mouseY+ne}}});Fe.render=ze;var We=Fe,De=ie?function(e){return e}:Math.floor,Ee=new Oe,Ve=80,Re=400,Be=Object(a["p"])({components:{ToolTip:We},props:{renderableTrace:{type:Array,default:function(){return[]}},renderableTraceGroups:{type:Object,default:function(){return new Map}},extents:{type:Object,default:function(){return{startOffset:0,endOffset:0,size:0}}},selection:{type:Object,default:function(){return{}}},hovered:{type:Object,default:function(){return{measure:""}}},truncateLabels:{type:Boolean,default:!1},center:{type:Number,default:0},defaultCenter:{type:Number,default:0},viewportWidth:{type:Number,default:0},zoom:{type:Number,default:1},minZoom:{type:Number,default:0},defaultZoom:{type:Number,default:0},zooming:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},dragMoved:{type:Boolean,default:!1},verticalOffset:{type:Number,default:0},onStateChange:{type:Function}},data:function(){return{canvas:null,mouse:{mouseX:0,mouseY:0},renderedShapes:[],frame:{framecounter:0,frameSecond:Math.floor(performance.now()/1e3),lastFrameFPS:0},render:{renderedZoom:0,renderedCenter:0},fitTextMap:new WeakMap,canvasHeight:0,tooltip:{show:!1,textContent:""}}},watch:{center:function(){this.didUpdate()},viewportWidth:function(){this.didUpdate()}},methods:{init:function(){document.addEventListener("mouseup",this.mouseUp),this.canvas=this.$refs.canvas,this.canvasHeight=this.caleHeight(),this.canvas instanceof HTMLCanvasElement&&this.canvas.addEventListener("wheel",this.handleWheel),le?this.rAFLoop():this.renderCanvasWithFramecount()},caleHeight:function(){var e=q*(Ee.getMaxStackIndex(this.renderableTrace)+1);return e<=Ve?Ve:e>Re?Re:e},didUpdate:function(){var e=this;this.$nextTick((function(){le||e.renderCanvasWithFramecount()}))},rAFLoop:function(){var e=this;requestAnimationFrame((function(){e.renderCanvasWithFramecount(),e.rAFLoop()}))},renderCanvasWithFramecount:function(){var e=Math.floor(performance.now()/1e3),t=this.frame;e!==t.frameSecond?(t.lastFrameFPS=t.framecounter,t.framecounter=0,t.frameSecond=e):t.framecounter+=1,this.renderCanvas(this.canvas)},renderCanvas:function(e){if(e){var t=this.getCanvasContext(e);oe?(t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height)):t.clearRect(0,0,e.width,e.height),this.renderedShapes=[];for(var n=this.renderableTraceGroups,a=Array.from(n.keys()),r=0,i=0,o=a;i<o.length;i++){var s=o[i],c=n.get(s);if(c){this.renderCanvasGroup(c,t,r+this.verticalOffset,s);var u=Ee.getMaxStackIndex(c);r+=(u+1)*(q+Q)}}e.style.transform=""}},getCanvasContext:function(e){return Object(_["a"])((function(e){var t=e.getContext(de,oe?{alpha:!1}:{});if(se){var n=he(e);t.scale(n,n)}return t}))(e)},renderCanvasGroup:function(e,t,n,a){var r=e[0];if(null!==r){void 0!==a&&(t.font="italic 10px Lucida Grande",t.fillStyle="#419e30",t.fillText("Thread ".concat(a),0,n+10),n>0&&(t.beginPath(),t.setLineDash([5]),t.moveTo(0,n),t.lineTo(this.viewportWidth,n),t.closePath(),t.lineWidth=.5,t.strokeStyle="#c4ffd6",t.stroke()));for(var i=r.measure.group,o=0;o<e.length;o++){var s=e[o],c=be(this.$props,s,n);c.width=Math.max(c.width,1);var u=c.width,l=c.height,d=c.x,h=c.y,f=c.inView;if(f&&(this.renderedShapes.push([c,s]),t.fillStyle=Ee.getMeasureColorRGB(s.measure),t.fillRect(De(d),De(h),De(u),De(l)),ae&&!(u<re)&&(!ce||!this.zooming))){var p=De(Math.max(u-ue,0));t.font="10px Lucida Grande",t.fillStyle="black";var m=s.measure.name,v=this.truncateLabels?this.fitTextCached(s,(function(e){return t.measureText(e).width}),m,p):m;t.fillText(v,De(d+ue),De(h+q/2+4),p)}}var g=this.selection;if(null!==g&&i===g.measure.group){var b=be(this.$props,g,n),w=b.width,O=b.height,y=b.x,x=b.y;t.strokeStyle="#0000ff",t.lineWidth=2,t.strokeRect(y,x,w,O)}}},fitTextCached:function(e,t,n,a){var r=this.fitTextMap.get(e);if(r&&r.textWidth===a)return r.labelTrimmed;var i=this.fitText(t,n,a);return this.fitTextMap.set(e,{textWidth:a,labelTrimmed:i}),i},fitText:function(e,t,n){var a=t,r=0,i=t.length-1;if(e(a)>n){while(r<i){var o=r+Math.floor((i-r)/2);a=we(t,o),e(a)>n?i=o-1:r=o+1}a=we(t,i)}return a},mouseDown:function(){this.$emit("onStateChange",{dragging:!0,dragMoved:!1})},mouseMove:function(e){var t=this.getIntersectingMeasure(e),n=fe(e,this.canvas),a=n.canvasMouseX,r=n.canvasMouseY;this.mouse.mouseX=a,this.mouse.mouseY=r;var i=this.tooltip,o=this.dragging,s=this.center,c=this.verticalOffset;if(null!==t?(i.textContent="".concat(t.measure.duration.toFixed(1),"ms ").concat(t.measure.name),i.show=!0):i.show=!1,o){var u=s-e.movementX/K/this.zoom,l=Math.min(0,c+e.movementY);this.$emit("onStateChange",{verticalOffset:l,center:u,hovered:t,dragMoved:!0})}},mouseOut:function(){var e=this.tooltip;e.show=!1},mouseUp:function(e){this.$emit("onStateChange",{dragging:!1,dragMoved:!1,selection:this.dragMoved?this.selection:this.getIntersectingMeasure(e,this.canvas)})},handleWheel:function(e){var t=new pe;t.handleWheel(e,this.canvas,this.$props)},getIntersectingMeasure:function(e){var t=fe(e,this.canvas),n=t.canvasMouseX,a=t.canvasMouseY,r=this.renderedShapes.filter((function(e){var t=Object(F["a"])(e,1),r=t[0],i=r.x,o=r.y,s=r.width,c=r.height;return!(n<i||i+s<n||a<o||o+c<a)}));return r.length>0?r[0][1]:null}}});n("7cc0");Be.render=ke,Be.__scopeId="data-v-2c4a0b52";var Ie=Be,He=Object(a["hb"])("data-v-98824e0a");Object(a["I"])("data-v-98824e0a");var Pe={class:"wrap"};Object(a["G"])();var $e=He((function(e,t,n,r,i,o){return Object(a["F"])(),Object(a["k"])("div",Pe,[Object(a["o"])("canvas",{class:"area",ref:"canvas",style:{width:"".concat(e.viewportWidth,"px"),height:"".concat(14,"px")},width:e.viewportWidth},null,12,["width"])])})),Ne=Object(a["p"])({props:{extents:{type:Object,default:function(){return{startOffset:0,endOffset:0,size:0}}},center:{type:Number,default:0},viewportWidth:{type:Number,default:0},zoom:{type:Number,default:1},minZoom:{type:Number,default:0},defaultZoom:{type:Number,default:0},zooming:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},dragMoved:{type:Boolean,default:!1}},watch:{center:function(){this.didUpdate()},viewportWidth:function(){this.didUpdate()}},methods:{init:function(){var e=this.$refs.canvas,t=this.getCanvasContext(e);t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height),this.center&&this.render(t)},didUpdate:function(){var e=this;this.$nextTick((function(){e.init()}))},render:function(e){var t=this.extents,n=t.startOffset,a=t.size,r=this.zoom,i=this.center,o=this.viewportWidth,s=(i-n)/a,c=o/(a*r),u=s-c/2,l=s+c/2,d=10,h=6,f=Math.max(u,0)*a,p=Math.min(l,1)*a,m=(p-f)/h,v=Math.round(o/h);e.font="10px Lucida Grande",e.fillStyle="#666",e.fillText("".concat(Math.round(f)),0,10);for(var g=1;g<h;g++)e.fillText("".concat(Math.round(f+m*g)),0+v*g-d,10);e.fillText("".concat(Math.round(p)),this.viewportWidth-30,10)},getCanvasContext:function(e){return Object(_["a"])((function(e){if(e){var t=e.getContext(de,oe?{alpha:!1}:{});if(se){var n=he(e);t.scale(n,n)}return t}}))(e)}}});n("c241");Ne.render=$e,Ne.__scopeId="data-v-98824e0a";var Ze=Ne,Ae=!1,_e=Object(a["p"])({components:{MiniShow:Ce,CanvasRender:Ie,TimeLine:Ze},props:{startTime:{type:Number,default:0},endTime:{type:Number,default:0},truncateLabels:{type:Boolean,default:!1},trace:{type:Array,default:function(){return[]}},traceMap:{type:Object,default:function(){return new Map}},viewportWidth:{type:Number,default:0},viewportHeight:{type:Number,default:0},persistView:{type:Boolean}},data:function(){return{renderableTrace:[],renderableTraceGroups:[],dragging:!1,dragMoved:!1,selection:null,hovered:{measure:""},center:0,verticalOffset:0,defaultCenter:0,zoom:.2,defaultZoom:1,zooming:!1,miniZoom:0,extents:{startOffset:"",endOffset:"",size:""}}},methods:{init:function(){var e;this.renderableTrace.splice(0,this.renderableTrace.length),(e=this.renderableTrace).push.apply(e,Object(A["a"])(this.transformTrace(this.trace))),this.renderableTraceGroups=this.traceMap,this.extents=this.getExtents(),this.defaultCenter=this.caleDefaultCenter(),this.center=this.caleCenter(),this.zoom=this.caleZoom(),this.miniZoom=this.getMinZoom(),this.$refs.minishow.init(),this.$refs.timeline.init(),this.$refs.canvasrender.init()},transformTrace:Object(_["a"])((function(e){return e})),loadValue:function(e,t){var n=localStorage.getItem(e);if((this.persistView||Ae)&&null!==n){var a=parseFloat(n);if(!Number.isNaN(a))return a}return t},caleCenter:function(){var e=this.defaultCenter;return this.loadValue("center",e)},caleDefaultCenter:function(){var e=this.extents.startOffset;return e+this.viewportWidth/K/2},caleZoom:function(){return this.loadValue("zoom",this.defaultZoom)},getExtents:function(){var e=this.transformTrace(this.trace),t=this.startTime,n=this.endTime;if(e.length>=0&&t&&n)return{startOffset:t,endOffset:n,size:n-t};var a=this.startTime?this.startTime:e[0]?e[0].measure.startTime:0,r=e.length>0?e[e.length-1]:{measure:{startTime:0,duration:0}},i=this.endTime?this.endTime:r.measure.startTime+r.measure.duration;return{startOffset:a,endOffset:i,size:i-a}},handleStateChange:function(e){var t=this;Object.keys(e).forEach((function(n){"zoom"===n&&null!==e.zoom?t.zoom=t.clampZoom(e.zoom):"center"===n&&null!==e.center?t.center=t.clampCenter(e.center):t[n]=e[n]}))},clampZoom:function(e){return Math.max(this.getMinZoom(),Math.min(te,e))},clampCenter:function(e){var t=this.extents,n=t.startOffset,a=t.endOffset;return Math.max(n,Math.min(a,e))},getMinZoom:function(){var e=this.extents.size;return this.viewportWidth/e}}});_e.render=Z;var Ge=_e,Le={title:{},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(e){var t=e.length>2?e.slice(1):e,n="时间点: ".concat(t[0].axisValue," ms<br/>"),a=n;return t.forEach((function(e){e.data[1]&&(a="".concat(a).concat(e.seriesName,": ").concat(e.data[1],"<br/>"))})),a===n?"":a}},grid:{left:"50px",right:"50px",top:"50px",bottom:"40px"},legend:{data:[{name:"UI FPS"},{name:"Raster FPS"}]},dataZoom:[{type:"inside",xAxisIndex:[0],start:0,end:100,minValueSpan:10}],xAxis:{type:"value",name:"ms",show:!0,axisTick:{show:!1},min:0},yAxis:{type:"value",name:"FPS",axisTick:{show:!0},min:0,splitLine:{show:!0,lineStyle:{color:["#FFF","#DDD","#FFF","#FFF","#DDD","#FFF","#FFF","#FFF","#DDD"]}}},series:[{name:"Raster FPS",type:"line",step:"true",symbol:"none",data:[[65,60],[308,60],[309,0],[472,0],[473,55],[490,55],[491,0],[501,0],[512,43],[552,43],[553,0],[580,0],[581,74],[596,74]],emphasis:{focus:"series"},areaStyle:{},select:{itemStyle:{borderWidth:2}}},{name:"UI FPS",type:"line",step:"true",symbol:"none",data:[[17,40],[303,40],[304,0],[402,0],[403,65],[460,65],[461,0],[501,0],[502,33],[549,33],[550,0],[560,0],[561,78],[566,78]],areaStyle:{},select:{itemStyle:{borderWidth:2}}}]},Xe=n("d257"),Ye=n("a313"),Ue=n("79f6"),Je=(n("46dc"),!0),Ke=200,qe=30,Qe=50,et=Je?400:window.innerHeight-Ke-qe,tt=window.innerWidth-2*Qe,nt=Object(Xe["e"])("platform")===Ye["a"].IOS,at=Object(a["p"])({name:"Performance",setup:function(){var e=Object(W["b"])(),t=Object(a["V"])(e.state),n=t.renderCoreTrace,r=t.renderCoreTraceMap,i=t.renderV8Trace,o=t.renderV8TraceMap,s=t.startTime,c=t.endTime,u=t.operatState,l=t.timelineEventsStr,d=Object(a["V"])(e.getters),h=d.startBtnDisabled,f=d.endBtnDisabled,p=d.clearBtnDisabled,m=d.isInitState,v=d.isCollectingState,g=d.isAnalysingState,b=d.isCollectedState,w=Object(a["K"])(tt),O=Object(a["K"])(et),y=Object(a["K"])(null),x=Object(a["K"])(null),j=Object(a["K"])(null);Object(a["C"])((function(){window.onresize=E()((function(){w.value=window.innerWidth-2*Qe,y&&y.value.resize()}),400,{leading:!0})}));var M=function(){e.commit("setOperateState",Ye["d"].collected),Object(a["w"])((function(){y.value.init(),x.value.init(),j.value.init()}))};return{renderCoreTrace:n,renderCoreTraceMap:r,renderV8Trace:i,renderV8TraceMap:o,startTime:s,endTime:c,operatState:u,timelineEventsStr:l,startBtnDisabled:h,endBtnDisabled:f,clearBtnDisabled:p,isInitState:m,isCollectingState:v,isAnalysingState:g,isCollectedState:b,viewportWidth:w,viewportHeight:O,chartRef:y,coreFlamegraphRef:x,v8flamegraphRef:j,initVisualization:M}},data:function(){return{option:Le,isIOS:nt}},components:{FlameGraph:Ge,PerformanceChart:N},created:function(){nt&&Object(Ue["a"])(this.onTraceDataCollected)},beforeDestroy:function(){Object(Ue["n"])(this.onTraceDataCollected)},methods:{onTraceDataCollected:function(e,t){this.$store.dispatch("setV8Trace",{error:e,json:t}),this.initVisualization()},start:function(){this.$store.dispatch("start")},stop:function(){var e=this;this.$store.dispatch("end"),this.$store.dispatch("getFrameTimings").then((function(t){e.refreshChartData(t)})),this.$store.dispatch("getTimeline").then((function(){e.initVisualization()})),nt||this.$store.dispatch("getV8Trace").then((function(){e.initVisualization()}))},refreshChartData:function(e){var t=Object(F["a"])(e,3),n=t[0],a=t[1],r=t[2],i=R()(this.option);i.series[0].data=a,i.series[1].data=n,i.xAxis.max=r,this.option=i},clear:function(){this.refreshChartData([[],[],0]),this.$store.dispatch("clear"),this.$store.commit("setOperateState",Ye["d"].init)},exportData:function(){var e=this.timelineEventsStr,t="data:application/json;charset=utf-8,+ ".concat(encodeURIComponent(e)),n="tdf_devtools_events_".concat((new Date).getTime(),".json"),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download",n),a.click()},updateFlameData:function(e){console.log("updateFlameData index".concat(e))}}});n("fe1a");at.render=z,at.__scopeId="data-v-2bd90b7e";var rt=at,it=n("b85c"),ot=(n("96cf"),n("277d"),n("9ab4")),st=(n("e25e"),1e6),ct=function(e,t){var n=(e-t)/st/1e3,a=n?parseInt(String(1/n)):0;return a},ut=function(e,t,n){if(!(null===e||void 0===e?void 0:e.frameTimings))return[];var a=e.frameTimings;if(!Array.isArray(a))return[];var r,i,o,s=[],c=[];return t||(t=parseFloat(Object(Xe["f"])(a[0].ui.e/st,3))),a.forEach((function(e,n){var u=ct(e.ui.e,e.ui.b),l=ct(e.raster.e,e.raster.b);i&&(s.push([Math.round(i/st+1-t),0]),s.push([Math.round(e.ui.b/st-1-t),0])),o&&(c.push([Math.round(o/st+1-t),0]),c.push([Math.round(e.raster.b/st-1-t),0])),s.push([Math.round(e.ui.b/st-t),u]),s.push([Math.round(e.ui.e/st-t),u]),c.push([Math.round(e.raster.b/st-t),l]),c.push([Math.round(e.raster.e/st-t),l]),i=e.ui.e,o=e.raster.e,n===a.length-1&&(r=Math.round(e.raster.e/st-t))})),n&&(r=Math.round(n-t)),[s,c,r]},lt=1e3,dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt,n=[],a={},r=new Map,i=new Map,o=[],s=new Map,c={};return Array.isArray(e)||console.log("getData traceEvents not an array"),e.forEach((function(e){var u,l,d,h,f,p,m,v,g,b,w;if(e.ph===Ye["e"].Complete)c[e.tid].push(e);else if(e.ph===Ye["e"].Begin)a[e.tid]=Math.max(a[e.tid]||0)+1,c[e.tid]=c[e.tid]||[],c[e.tid].push(e),i.get(e.tid)||i.set(e.tid,new Map),(null===(u=i.get(e.tid))||void 0===u?void 0:u.get(e.name))||null===(l=i.get(e.tid))||void 0===l||l.set(e.name,[]),null===(h=null===(d=i.get(e.tid))||void 0===d?void 0:d.get(e.name))||void 0===h||h.push(e.ts);else if(e.ph===Ye["e"].End&&c[e.tid]&&(null===(f=i.get(e.tid))||void 0===f?void 0:f.get(e.name))){var O=null===(p=i.get(e.tid))||void 0===p?void 0:p.get(e.name);if(!O||O.length<1)throw new Error("no match start event");var y=O[O.length-1];O.splice(O.length-1,1);var x="".concat(e.name,"_").concat(y);if(r.get(e.tid)||r.set(e.tid,new Map),(null===(m=r.get(e.tid))||void 0===m?void 0:m.get(x))||null===(v=r.get(e.tid))||void 0===v||v.set(x,[]),null===(b=null===(g=r.get(e.tid))||void 0===g?void 0:g.get(x))||void 0===b||b.push(e.ts),c[e.tid].push(e),a[e.tid]-=1,0===a[e.tid]){var j;n.push(c[e.tid]);var M=ht(c[e.tid],r.get(e.tid),t);o.push.apply(o,Object(A["a"])(M)),void 0===s.get(e.tid)?s.set(e.tid,Object(A["a"])(M)):null===(w=s.get(e.tid))||void 0===w||(j=w).push.apply(j,Object(A["a"])(M)),c[e.tid]=[],r.set(e.tid,new Map),i.set(e.tid,new Map)}}else c[e.tid]&&(c[e.tid]=c[e.tid]||[],c[e.tid].push(e))})),{renderTraceMap:s,sequences:n,renderTrace:o}},ht=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lt,a=[],r=new Map;e.forEach((function(e){var i;if(e.ph===Ye["e"].Begin){var o="".concat(e.name,"_").concat(e.ts),s=t.get(o);if(!s||s.length<1)throw new Error("no match end envent");var c=s[s.length-1];s.splice(s.length-1,1);var u=parseFloat(Object(Xe["f"])(e.ts/n,3));a.push(Object.assign({duration:parseFloat(Object(Xe["f"])((c-e.ts)/n,3)),startTime:u},e)),r.get(e.name)||r.set(e.name,[]),null===(i=r.get(e.name))||void 0===i||i.push(u)}else if(e.ph===Ye["e"].End){var l=r.get(e.name);if(!l||l.length<1)throw new Error("no match start event");var d=l[l.length-1];l.splice(l.length-1,1),a.push(Object.assign({startTime:d},e))}else if(e.ph===Ye["e"].Complete){var h=parseFloat(Object(Xe["f"])(e.ts/n,3));a.push(Object.assign({startTime:h,duration:parseFloat(Object(Xe["f"])(e.dur/n,3))},e))}else a.push(Object.assign({},e))}));var i=[],o=[],s={};return a.forEach((function(e){var t=o.length,n="".concat(e.name,"_").concat(e.startTime),a=s["".concat(n)],r=a?a[a.length-1]:void 0,c=o.length;switch(e.ph){case Ye["e"].Begin:i.push({stackIndex:t,measure:e}),s["".concat(n)]||(s["".concat(n)]=[]),s["".concat(n)].push(t),o.push(e);break;case Ye["e"].Complete:i.push({stackIndex:t,measure:e});break;case Ye["e"].End:void 0!==r?(o[r]=null,a.splice(a.length-1,1)):console.log("couldnt find measure to remove");while(c>0&&null===o[c-1])c-=1;o.length!==c&&(o.length=c);break;default:throw new Error("".concat(e.ph," error"))}})),i},ft=Object(Xe["e"])("platform")===Ye["a"].IOS,pt=5e3,mt=1e6,vt=1e3,gt=Object(W["a"])({state:{startTime:0,endTime:0,operatState:Ye["d"].init,renderCoreTrace:[],renderCoreTraceMap:new Map,renderV8Trace:[],renderV8TraceMap:new Map,timelineEventsStr:""},getters:{startBtnDisabled:function(e){return!(e.operatState===Ye["d"].init||e.operatState===Ye["d"].collected)},endBtnDisabled:function(e){return!(e.operatState===Ye["d"].collecting)},clearBtnDisabled:function(e){return!(e.operatState===Ye["d"].collected)},isInitState:function(e){return e.operatState===Ye["d"].init},isCollectingState:function(e){return e.operatState===Ye["d"].collecting},isAnalysingState:function(e){return e.operatState===Ye["d"].analysing},isCollectedState:function(e){return e.operatState===Ye["d"].collected}},mutations:{setOperateState:function(e,t){switch(t){case Ye["d"].init:e.operatState===Ye["d"].collected&&(e.operatState=Ye["d"].init);break;case Ye["d"].collecting:e.operatState!==Ye["d"].init&&e.operatState!==Ye["d"].collected||(e.operatState=Ye["d"].collecting);break;case Ye["d"].analysing:e.operatState===Ye["d"].collecting&&(e.operatState=Ye["d"].analysing);break;case Ye["d"].collected:e.operatState===Ye["d"].analysing&&(e.operatState=Ye["d"].collected);break;default:break}}},actions:{start:function(e){var t=e.state,n=e.commit,a=e.dispatch;return Object(ot["a"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(Ue["o"])().then((function(e){if(e.result.startTime)return t.startTime=parseFloat(Object(Xe["f"])(e.result.startTime/mt,3)),void n("setOperateState",Ye["d"].collecting)}))["catch"]((function(e){e&&a("handleErrorCallback",e)})),ft&&Object(Ue["p"])();case 2:case"end":return e.stop()}}),e)})))},end:function(e){var t=e.state,n=e.commit,a=e.dispatch;return Object(ot["a"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(Ue["c"])().then((function(e){if(e.result.endTime)return t.endTime=parseFloat(Object(Xe["f"])(e.result.endTime/mt,3)),void n("setOperateState",Ye["d"].analysing)}))["catch"]((function(e){e&&a("handleErrorCallback",e)})),ft&&Object(Ue["d"])();case 2:case"end":return e.stop()}}),e)})))},clear:function(e){var t=e.state;return Object(ot["a"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.timelineEventsStr="";case 1:case"end":return e.stop()}}),e)})))},getFrameTimings:function(e){var t=e.state,n=e.dispatch;return Object(ot["a"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ue["k"])();case 3:return a=e.sent,e.abrupt("return",ut(a.result,t.startTime,t.endTime));case 7:if(e.prev=7,e.t0=e["catch"](0),!e.t0){e.next=12;break}return n("handleErrorCallback",e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))},getTimeline:function(e){var t,n=e.state,a=e.dispatch;return Object(ot["a"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,i,o,s,c,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ue["l"])();case 3:i=e.sent,n.timelineEventsStr=JSON.stringify(i.result),(null===(t=i.result)||void 0===t?void 0:t.traceEvents)||console.error("json traceEvents nil"),Array.isArray(i.result.traceEvents)||console.error("traceEvents nil"),o=dt(i.result.traceEvents,1e6),s=o.renderTrace,c=o.renderTraceMap,n.renderCoreTrace.splice(0,n.renderCoreTrace.length),(r=n.renderCoreTrace).push.apply(r,Object(A["a"])(s)),n.renderCoreTraceMap.clear(),u=Object(it["a"])(c.keys());try{for(u.s();!(l=u.n()).done;)d=l.value,n.renderCoreTraceMap.set(d,c.get(d)||[])}catch(h){u.e(h)}finally{u.f()}e.next=20;break;case 15:if(e.prev=15,e.t0=e["catch"](0),!e.t0){e.next=20;break}return a("handleErrorCallback",e.t0),e.abrupt("return");case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))},getV8Trace:function(e){var t=e.state,n=e.dispatch;return Object(ot["a"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var a,r,i,o,s,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue["m"])();case 2:a=e.sent,e.prev=3,i=dt(a.result.traceEvents,1e3),o=i.renderTrace,s=i.renderTraceMap,t.renderV8Trace.splice(0,t.renderV8Trace.length),(r=t.renderV8Trace).push.apply(r,Object(A["a"])(o)),t.renderV8TraceMap.clear(),c=Object(it["a"])(s.keys());try{for(c.s();!(u=c.n()).done;)l=u.value,t.renderV8TraceMap.set(l,s.get(l)||[])}catch(d){c.e(d)}finally{c.f()}e.next=17;break;case 12:if(e.prev=12,e.t0=e["catch"](3),!e.t0){e.next=17;break}return n("handleErrorCallback",e.t0),e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[3,12]])})))},handleErrorCallback:function(e,t){var n=e.commit;(null===t||void 0===t?void 0:t.code)===pt&&(n("setOperateState",Ye["d"].init),r["a"].warning({message:"请求超时，请重试",type:"warning",duration:vt}))},setV8Trace:function(e,t){var n,a=e.dispatch,r=e.state,i=t.error,o=t.json;if(i)a("handleErrorCallback",i);else{o.traceEvents=o.value;var s=dt(o.traceEvents,1e3),c=s.renderTrace,u=s.renderTraceMap;r.renderV8Trace.splice(0,r.renderV8Trace.length),(n=r.renderV8Trace).push.apply(n,Object(A["a"])(c)),r.renderV8TraceMap.clear();var l,d=Object(it["a"])(u.keys());try{for(d.s();!(l=d.n()).done;){var h=l.value;r.renderV8TraceMap.set(h,u.get(h)||[])}}catch(f){d.e(f)}finally{d.f()}}}},modules:{}}),bt=(n("a471"),n("7dd6"),Object(a["j"])(rt));bt.use(r["d"]),bt.use(gt).mount("#app")},"7cc0":function(e,t,n){"use strict";n("3a3d")},a335:function(e,t,n){},c241:function(e,t,n){"use strict";n("a335")},dc51:function(e,t,n){},fe1a:function(e,t,n){"use strict";n("dc51")}});
//# sourceMappingURL=core-performance.fba82e8d.js.map
(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={"core-performance":0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(){return Promise.resolve()},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/extensions/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([4,"chunk-vendors","chunk-common"]),n()})({"0ec7":function(e,t,n){},4:function(e,t,n){e.exports=n("6870")},"4c89":function(e,t,n){},6870:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a=n("7864"),i=n("2aa9"),o=(n("f3fc"),n("ab0d"),n("b58f")),s=(n("47b1"),n("59eb")),c=(n("250e"),n("38e9")),u=(n("4af4"),function(e){return Object(r["M"])("data-v-2bd90b7e"),e=e(),Object(r["K"])(),e}),l={class:"performance"},d=Object(r["p"])("开始"),h=Object(r["p"])("结束"),f=Object(r["p"])("清空"),p=Object(r["p"])("导出"),m={class:"tip"},v={class:"init main-text"},g=Object(r["p"])(" 请点击 “开始” 按钮开始收集性能数据，点击 “结束” 按钮结束收集 "),b=u((function(){return Object(r["n"])("div",{class:"sub-tip accent-text"}," 由于记录的是实时性能数据，在点击“开始”后的数据收集时间内，请确保页面有进行“渲染”或者触发了一些“JS 事件”，否则收集到的数据可能为空 ",-1)})),O=[g,b],w={class:"collecting main-text"},y=u((function(){return Object(r["n"])("i",{class:"el-icon-loading",style:{"font-size":"18px"}},null,-1)})),j=Object(r["p"])(" 数据收集中...... "),x=[y,j],M={class:"analysing main-text"},T=u((function(){return Object(r["n"])("i",{class:"el-icon-loading",style:{"font-size":"18px"}},null,-1)})),S=Object(r["p"])(" 数据解析中...... "),C=[T,S],k={key:0,style:{margin:"10px 15px"}},z=u((function(){return Object(r["n"])("h4",{class:"main-text"},"帧率统计：",-1)})),F=u((function(){return Object(r["n"])("h4",{class:"main-text"},"Core 堆栈数据",-1)})),W=u((function(){return Object(r["n"])("h4",{class:"main-text"},"JS 堆栈数据",-1)}));function D(e,t,n,a,u,g){var b=c["a"],y=s["a"],j=o["a"],T=i["a"],S=Object(r["S"])("performance-chart"),D=Object(r["S"])("flame-graph");return Object(r["J"])(),Object(r["m"])("div",l,[Object(r["q"])(T,{style:{padding:"20px"}},{default:Object(r["hb"])((function(){return[Object(r["q"])(j,{class:"row-bg",justify:"end",type:"flex"},{default:Object(r["hb"])((function(){return[Object(r["q"])(y,{size:"mini"},{default:Object(r["hb"])((function(){return[Object(r["q"])(b,{type:"primary",disabled:e.startBtnDisabled,onClick:e.start,icon:"el-icon-check",size:"mini"},{default:Object(r["hb"])((function(){return[d]})),_:1},8,["disabled","onClick"]),Object(r["q"])(b,{type:"primary",disabled:e.endBtnDisabled,onClick:e.stop,icon:"el-icon-close",size:"mini"},{default:Object(r["hb"])((function(){return[h]})),_:1},8,["disabled","onClick"]),Object(r["q"])(b,{type:"primary",disabled:e.clearBtnDisabled,onClick:e.clear,icon:"el-icon-delete",size:"mini"},{default:Object(r["hb"])((function(){return[f]})),_:1},8,["disabled","onClick"]),Object(r["q"])(b,{type:"primary",disabled:e.clearBtnDisabled,onClick:e.exportData,icon:"el-icon-download",size:"mini"},{default:Object(r["hb"])((function(){return[p]})),_:1},8,["disabled","onClick"])]})),_:1})]})),_:1})]})),_:1}),Object(r["n"])("div",m,[Object(r["ib"])(Object(r["n"])("div",v,O,512),[[r["eb"],e.isInitState]]),Object(r["ib"])(Object(r["n"])("div",w,x,512),[[r["eb"],e.isCollectingState]]),Object(r["ib"])(Object(r["n"])("div",M,C,512),[[r["eb"],e.isAnalysingState]])]),e.isCollectedState?(Object(r["J"])(),Object(r["m"])("div",k,[z,Object(r["q"])(S,{option:e.option,class:"charts",ref:"chartRef",onSelectedOption:e.updateFlameData},null,8,["option","onSelectedOption"]),F,Object(r["q"])(D,{"end-time":e.endTime,"persist-view":!0,"start-time":e.startTime,trace:e.renderCoreTrace,traceMap:e.renderCoreTraceMap,"truncate-labels":!0,"viewport-height":e.viewportHeight,"viewport-width":e.viewportWidth,class:"flame-graph",ref:"coreFlamegraphRef"},null,8,["end-time","start-time","trace","traceMap","viewport-height","viewport-width"]),W,Object(r["q"])(D,{"end-time":e.isIOS&&e.renderV8Trace.length?0:e.endTime,"persist-view":!0,"start-time":e.isIOS&&e.renderV8Trace.length?0:e.startTime,trace:e.renderV8Trace,traceMap:e.renderV8TraceMap,"truncate-labels":!0,"viewport-height":e.viewportHeight,"viewport-width":e.viewportWidth,class:"flame-graph",ref:"v8flamegraphRef"},null,8,["end-time","start-time","trace","traceMap","viewport-height","viewport-width"])])):Object(r["l"])("",!0)])}var E=n("3835"),R=(n("0d03"),n("5502")),V=n("84a2"),B=n.n(V),I=n("cd3f"),P=n.n(I);function A(e,t,n,a,i,o){return Object(r["J"])(),Object(r["m"])("div",{style:Object(r["A"])(e.style),ref:"chart"},null,4)}n("4795");var H,$=n("313e"),Z=n("e088"),N=Object(r["r"])({name:"PerformanceChart",props:{width:{type:String,default:"100%"},height:{type:String,default:"200px"},option:{type:Object,default:null}},watch:{option:{handler:function(e,t){H?setTimeout((function(){e?H.setOption(e):H.setOption(t)}),1e3):this.init()},deep:!0}},computed:{style:function(){var e=this.height,t=this.width;return{height:e,width:t}}},methods:{init:function(){var e=this;H&&H.dispose();var t=Object(Z["a"])()?"dark":"";H=$["a"](this.$refs.chart,t),H.setOption(this.option),H.on("click",(function(t){var n=[t.offsetX,t.offsetY];if(H.containPixel("grid",n)){var r=H.convertFromPixel({seriesIndex:0},[t.offsetX,t.offsetY])[0];e.$emit("selected-option",r)}}))},resize:function(){H.resize()}}}),_=n("6b0d"),L=n.n(_),G=L()(N,[["render",A]]);function U(e,t,n,a,i,o){var s=Object(r["S"])("mini-show"),c=Object(r["S"])("time-line"),u=Object(r["S"])("canvas-render");return Object(r["J"])(),Object(r["m"])("div",null,[Object(r["q"])(s,{ref:"minishow","renderable-trace":e.renderableTrace,"renderable-trace-groups":e.renderableTraceGroups,dragging:e.dragging,"drag-moved":e.dragMoved,selection:e.selection,hovered:e.hovered,center:e.center,"vertical-offset":e.verticalOffset,"default-center":e.defaultCenter,zoom:e.zoom,"default-zoom":e.defaultZoom,zooming:e.zooming,extents:e.extents,"min-zoom":e.miniZoom,"viewport-width":e.viewportWidth,"viewport-height":e.viewportHeight,"start-time":e.startTime,"on-state-change":e.handleStateChange,onOnStateChange:e.handleStateChange},null,8,["renderable-trace","renderable-trace-groups","dragging","drag-moved","selection","hovered","center","vertical-offset","default-center","zoom","default-zoom","zooming","extents","min-zoom","viewport-width","viewport-height","start-time","on-state-change","onOnStateChange"]),Object(r["q"])(c,{ref:"timeline","viewport-width":e.viewportWidth,zoom:e.zoom,center:e.center,extents:e.extents},null,8,["viewport-width","zoom","center","extents"]),Object(r["n"])("div",{style:Object(r["A"])({cursor:e.dragging?"grabbing":"grab",position:"relative"})},[Object(r["q"])(u,{ref:"canvasrender","renderable-trace":e.renderableTrace,"renderable-trace-groups":e.renderableTraceGroups,dragging:e.dragging,"drag-moved":e.dragMoved,selection:e.selection,hovered:e.hovered,center:e.center,"vertical-offset":e.verticalOffset,"default-center":e.defaultCenter,zoom:e.zoom,"default-zoom":e.defaultZoom,zooming:e.zooming,extents:e.extents,"min-zoom":e.miniZoom,"viewport-width":e.viewportWidth,"viewport-height":e.viewportHeight,"truncate-labels":e.truncateLabels,"start-time":e.startTime,"on-state-change":e.handleStateChange,onOnStateChange:e.handleStateChange},null,8,["renderable-trace","renderable-trace-groups","dragging","drag-moved","selection","hovered","center","vertical-offset","default-center","zoom","default-zoom","zooming","extents","min-zoom","viewport-width","viewport-height","truncate-labels","start-time","on-state-change","onOnStateChange"])],4)])}var X=n("2909"),q=(n("a9e3"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("a434"),n("acd8"),n("9129"),n("4160"),n("159b"),n("b64b"),n("5b0a")),Y={class:"wrap"},J=["width","height"];function K(e,t,n,a,i,o){return Object(r["J"])(),Object(r["m"])("div",Y,[Object(r["n"])("canvas",{ref:"canvas",style:Object(r["A"])({width:"".concat(e.viewportWidth,"px"),height:"".concat(e.canvasHeight,"px")}),width:e.viewportWidth,height:e.canvasHeight,onMousedown:t[0]||(t[0]=function(){return e.mouseDown&&e.mouseDown.apply(e,arguments)}),onMousemove:t[1]||(t[1]=function(){return e.mouseMove&&e.mouseMove.apply(e,arguments)}),onMouseout:t[2]||(t[2]=function(){return e.mouseOut&&e.mouseOut.apply(e,arguments)}),onClick:t[3]||(t[3]=function(){return e.click&&e.click.apply(e,arguments)})},null,44,J)])}n("7db0"),n("a630");var Q=n("d4ec"),ee=n("bee2"),te=n("b012"),ne=n.n(te),re=(n("caad"),n("2532"),n("fb6a"),n("ac1f"),n("841c"),1),ae=18,ie=1,oe=1,se=(window.location.search.slice(1).includes("large"),100),ce=8,ue=!0,le=35,de=!1,he=!0,fe=!0,pe=!1,me=2,ve=!1,ge="2d";function be(e){var t=window.devicePixelRatio||1,n=e.getBoundingClientRect();return e.width=n.width*t,e.height=n.height*t,e.style.width="".concat(n.width,"px"),e.style.height="".concat(n.height,"px"),t}function Oe(e,t){var n=t instanceof HTMLCanvasElement?t.getBoundingClientRect():{left:0,top:0},r=e.clientX-n.left,a=e.clientY-n.top;return{canvasMouseX:r,canvasMouseY:a}}var we=function(){function e(){var t=this;Object(Q["a"])(this,e),this.endWheel=ne()((function(e){e({zooming:!1})}),100),this.handleWheel=function(e,n,r){e.preventDefault(),e.stopPropagation();var a=Oe(e,n),i=a.canvasMouseX,o=i-r.viewportWidth/2,s=r.zoom*(1+.005*-e.deltaY),c=r.center+o/re/r.zoom-o/re/s;t.clampZoom(s,r.minZoom)!==r.zoom&&(r.onStateChange({zooming:!0,zoom:s,center:c}),t.endWheel(r.onStateChange))}}return Object(ee["a"])(e,[{key:"clampZoom",value:function(e,t){return Math.max(t,Math.min(se,e))}}]),e}();n("10d1"),n("99af"),n("13d5");function ye(e,t){return function(n){return t.has(n)||t.set(n,e(n)),t.get(n)||e(n)}}var je=new WeakMap;function xe(){return[Math.floor(256*(1-.4*Math.random())),Math.floor(256*(1-.5*Math.random())),Math.floor(256*(1-.6*Math.random()))]}function Me(e,t,n){var r=e.center,a=Math.max(t.measure.duration*re*e.zoom-oe,0),i=ae,o=(t.measure.startTime-r)*re*e.zoom+e.viewportWidth/2,s=t.stackIndex*(ae+ie)+n;return{width:a,height:i,x:o,y:s,inView:!(o+a<0||e.viewportWidth<o)}}function Te(e,t){return"".concat(e.slice(0,t),"…").concat(e.slice(e.length-1-t))}var Se=function(){function e(){Object(Q["a"])(this,e)}return Object(ee["a"])(e,[{key:"getMeasureColor",value:function(e){var t=ye((function(){return xe()}),je)(e);return t}},{key:"getMeasureColorRGB",value:function(e){var t=this,n=ye((function(){var n=t.getMeasureColor(e);return"rgba(".concat(n[0],",").concat(n[1],",").concat(n[2],", 0.8)")}),je)(e);return n}},{key:"getMaxStackIndex",value:function(e){return ye((function(){return e.reduce((function(e,t){return Math.max(t.stackIndex,e)}),0)}),je)(e)}}]),e}(),Ce=50,ke=2,ze=6,Fe=new Se,We=Object(r["r"])({components:{},props:{renderableTrace:{type:Array,default:function(){return[]}},renderableTraceGroups:{type:Object,default:function(){return new Map}},extents:{type:Object,default:function(){return{startOffset:0,endOffset:0,size:0}}},selection:{type:Object,default:function(){return{}}},hovered:{type:Object,default:function(){return{}}},center:{type:Number,default:0},defaultCenter:{type:Number,default:0},viewportWidth:{type:Number,default:0},zoom:{type:Number,default:1},minZoom:{type:Number,default:0},defaultZoom:{type:Number,default:0},zooming:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},dragMoved:{type:Boolean,default:!1},onStateChange:{type:Function,default:null}},data:function(){return{canvas:null,mouse:{mouseX:0,mouseY:0,isMouseDown:!1},canvasHeight:0,barHeight:0}},watch:{center:function(){this.didUpdate()},viewportWidth:function(){this.didUpdate()}},methods:{init:function(){this.canvas=this.$refs.canvas,this.barHeight=this.caleBarHeight(),this.canvasHeight=this.caleHeight(),document.addEventListener("mouseup",this.mouseUp),this.canvas instanceof HTMLCanvasElement&&this.canvas.addEventListener("wheel",this.handleWheel),this.renderCanvas()},didUpdate:function(){var e=this;this.$nextTick((function(){e.renderCanvas()}))},caleHeight:function(){var e=this.barHeight*(Fe.getMaxStackIndex(this.renderableTrace)+1);return e<Ce?Ce:e},caleBarHeight:function(){var e=this.renderableTrace.find((function(e){return e.stackIndex>Ce/ze})),t=void 0===e?ze:ke;return t},renderCanvas:function(){var e=this.$refs.canvas;if(e instanceof HTMLCanvasElement){var t=this.getCanvasContext(e);t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height);for(var n=this.renderableTraceGroups||new Map,r=Array.from(n.keys()),a=0,i=a,o=0,s=r;o<s.length;o++){var c=s[o],u=n.get(c);if(u){this.renderCanvasGroupMinimap(u,t,a);var l=Fe.getMaxStackIndex(u);a+=(l+1)*this.barHeight}}var d=a;this.renderMinimapShade(t,i,d)}},renderMinimapShade:function(e,t,n){var r=this.center,a=this.extents,i=this.viewportWidth,o=this.zoom,s=(r-a.startOffset)/a.size,c=i/(a.size*o),u=s-c/2,l=s+c/2,d=Math.max(n-t,Ce);e.fillStyle="rgba(200,200,200,0.2)",e.fillRect(0,t,Math.max(u,0)*i,d),e.fillRect(Math.min(l,1)*i,t,i-Math.min(l,1)*i,d)},renderCanvasGroupMinimap:function(e,t,n){var r=e[0];if(null!==r){var a=this.$props,i=a.extents,o=a.viewportWidth,s=this.barHeight;e.forEach((function(e){var r=Math.max(e.measure.duration/i.size*o,1),a=(e.measure.startTime-i.startOffset)/i.size*o,c=e.stackIndex*s+n;t.fillStyle=Fe.getMeasureColorRGB(e.measure),t.fillRect(a,c,r,s)}))}},getCanvasContext:function(e){return Object(q["a"])((function(e){if(e){var t=e.getContext(ge,he?{alpha:!1}:{});if(fe){var n=be(e);t.scale(n,n)}return t}}))(e)},mouseDown:function(){this.mouse.isMouseDown=!0},mouseMove:function(e){var t=this.getCanvasMousePos(e),n=t.canvasMouseX,r=t.canvasMouseY;this.mouse.mouseX=n,this.mouse.mouseY=r,this.mouse.isMouseDown&&this.setCenterFromMousePos(e)},mouseUp:function(){this.mouse.isMouseDown=!1},mouseOut:function(){this.mouse.isMouseDown=!1},click:function(e){this.setCenterFromMousePos(e)},handleWheel:function(e){var t=new we;t.handleWheel(e,this.canvas,this.$props)},getCanvasMousePos:function(e){return Oe(e,this.canvas)},setCenterFromMousePos:function(e){var t=this.getCanvasMousePos(e),n=t.canvasMouseX,r=n/this.viewportWidth*this.extents.size+this.extents.startOffset;this.$emit("onStateChange",{center:r})}}}),De=L()(We,[["render",K]]),Ee=["width","height"];function Re(e,t,n,a,i,o){var s=Object(r["S"])("tool-tip");return Object(r["J"])(),Object(r["m"])("div",{class:"wrap",style:Object(r["A"])({width:"".concat(e.viewportWidth,"px"),height:"".concat(e.canvasHeight,"px")})},[Object(r["n"])("canvas",{ref:"canvas",style:Object(r["A"])({width:"".concat(e.viewportWidth,"px"),height:"".concat(e.canvasHeight,"px")}),width:e.viewportWidth,height:e.canvasHeight,onMousedown:t[0]||(t[0]=function(){return e.mouseDown&&e.mouseDown.apply(e,arguments)}),onMousemove:t[1]||(t[1]=function(){return e.mouseMove&&e.mouseMove.apply(e,arguments)}),onMouseout:t[2]||(t[2]=function(){return e.mouseOut&&e.mouseOut.apply(e,arguments)})},null,44,Ee),Object(r["q"])(s,{mouse:e.mouse,"tool-tip-show":e.tooltip.show,text:e.tooltip.textContent||""},null,8,["mouse","tool-tip-show","text"])],4)}n("b0c0"),n("b680"),n("4de4");function Ve(e,t,n,a,i,o){return Object(r["ib"])((Object(r["J"])(),Object(r["m"])("div",{ref:"toop-tip",class:"wrap",style:Object(r["A"])({userSelect:"none",position:"absolute",backgroundColor:"white",fontSize:10,fontFamily:" Lucida Grande",padding:"2px 4px",boxShadow:"3px 3px 5px rgba(0,0,0,0.4)",left:"".concat(e.tooltipX,"px"),top:"".concat(e.tooltipY,"px")})},Object(r["W"])(e.text),5)),[[r["eb"],e.toolTipShow]])}var Be=Object(r["r"])({components:{},props:{text:{type:String,default:""},mouse:{type:Object,default:function(){return{mouseX:0,mouseY:0}}},toolTipShow:{type:Boolean,default:!1}},computed:{tooltipX:function(){return this.mouse.mouseX+ce},tooltipY:function(){return this.mouse.mouseY+ce}}}),Ie=L()(Be,[["render",Ve]]),Pe=de?function(e){return e}:Math.floor,Ae=new Se,He=80,$e=400,Ze=Object(r["r"])({components:{ToolTip:Ie},props:{renderableTrace:{type:Array,default:function(){return[]}},renderableTraceGroups:{type:Object,default:function(){return new Map}},extents:{type:Object,default:function(){return{startOffset:0,endOffset:0,size:0}}},selection:{type:Object,default:function(){return{}}},hovered:{type:Object,default:function(){return{measure:""}}},truncateLabels:{type:Boolean,default:!1},center:{type:Number,default:0},defaultCenter:{type:Number,default:0},viewportWidth:{type:Number,default:0},zoom:{type:Number,default:1},minZoom:{type:Number,default:0},defaultZoom:{type:Number,default:0},zooming:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},dragMoved:{type:Boolean,default:!1},verticalOffset:{type:Number,default:0},onStateChange:{type:Function}},data:function(){return{canvas:null,mouse:{mouseX:0,mouseY:0},renderedShapes:[],frame:{framecounter:0,frameSecond:Math.floor(performance.now()/1e3),lastFrameFPS:0},render:{renderedZoom:0,renderedCenter:0},fitTextMap:new WeakMap,canvasHeight:0,tooltip:{show:!1,textContent:""}}},watch:{center:function(){this.didUpdate()},viewportWidth:function(){this.didUpdate()}},methods:{init:function(){document.addEventListener("mouseup",this.mouseUp),this.canvas=this.$refs.canvas,this.canvasHeight=this.caleHeight(),this.canvas instanceof HTMLCanvasElement&&this.canvas.addEventListener("wheel",this.handleWheel),ve?this.rAFLoop():this.renderCanvasWithFramecount()},caleHeight:function(){var e=ae*(Ae.getMaxStackIndex(this.renderableTrace)+1);return e<=He?He:e>$e?$e:e},didUpdate:function(){var e=this;this.$nextTick((function(){ve||e.renderCanvasWithFramecount()}))},rAFLoop:function(){var e=this;requestAnimationFrame((function(){e.renderCanvasWithFramecount(),e.rAFLoop()}))},renderCanvasWithFramecount:function(){var e=Math.floor(performance.now()/1e3),t=this.frame;e!==t.frameSecond?(t.lastFrameFPS=t.framecounter,t.framecounter=0,t.frameSecond=e):t.framecounter+=1,this.renderCanvas(this.canvas)},renderCanvas:function(e){if(e){var t=this.getCanvasContext(e);he?(t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height)):t.clearRect(0,0,e.width,e.height),this.renderedShapes=[];for(var n=this.renderableTraceGroups,r=Array.from(n.keys()),a=0,i=0,o=r;i<o.length;i++){var s=o[i],c=n.get(s);if(c){this.renderCanvasGroup(c,t,a+this.verticalOffset,s);var u=Ae.getMaxStackIndex(c);a+=(u+1)*(ae+ie)}}e.style.transform=""}},getCanvasContext:function(e){return Object(q["a"])((function(e){var t=e.getContext(ge,he?{alpha:!1}:{});if(fe){var n=be(e);t.scale(n,n)}return t}))(e)},renderCanvasGroup:function(e,t,n,r){var a=e[0];if(null!==a){void 0!==r&&(t.font="italic 10px Lucida Grande",t.fillStyle="#419e30",t.fillText("Thread ".concat(r),0,n+10),n>0&&(t.beginPath(),t.setLineDash([5]),t.moveTo(0,n),t.lineTo(this.viewportWidth,n),t.closePath(),t.lineWidth=.5,t.strokeStyle="#c4ffd6",t.stroke()));for(var i=a.measure.group,o=0;o<e.length;o++){var s=e[o],c=Me(this.$props,s,n);c.width=Math.max(c.width,1);var u=c.width,l=c.height,d=c.x,h=c.y,f=c.inView;if(f&&(this.renderedShapes.push([c,s]),t.fillStyle=Ae.getMeasureColorRGB(s.measure),t.fillRect(Pe(d),Pe(h),Pe(u),Pe(l)),ue&&!(u<le)&&(!pe||!this.zooming))){var p=Pe(Math.max(u-me,0));t.font="10px Lucida Grande",t.fillStyle="black";var m=s.measure.name,v=this.truncateLabels?this.fitTextCached(s,(function(e){return t.measureText(e).width}),m,p):m;t.fillText(v,Pe(d+me),Pe(h+ae/2+4),p)}}var g=this.selection;if(null!==g&&i===g.measure.group){var b=Me(this.$props,g,n),O=b.width,w=b.height,y=b.x,j=b.y;t.strokeStyle="#0000ff",t.lineWidth=2,t.strokeRect(y,j,O,w)}}},fitTextCached:function(e,t,n,r){var a=this.fitTextMap.get(e);if(a&&a.textWidth===r)return a.labelTrimmed;var i=this.fitText(t,n,r);return this.fitTextMap.set(e,{textWidth:r,labelTrimmed:i}),i},fitText:function(e,t,n){var r=t,a=0,i=t.length-1;if(e(r)>n){while(a<i){var o=a+Math.floor((i-a)/2);r=Te(t,o),e(r)>n?i=o-1:a=o+1}r=Te(t,i)}return r},mouseDown:function(){this.$emit("onStateChange",{dragging:!0,dragMoved:!1})},mouseMove:function(e){var t=this.getIntersectingMeasure(e),n=Oe(e,this.canvas),r=n.canvasMouseX,a=n.canvasMouseY;this.mouse.mouseX=r,this.mouse.mouseY=a;var i=this.tooltip,o=this.dragging,s=this.center,c=this.verticalOffset;if(null!==t?(i.textContent="".concat(t.measure.duration.toFixed(1),"ms ").concat(t.measure.name),i.show=!0):i.show=!1,o){var u=s-e.movementX/re/this.zoom,l=Math.min(0,c+e.movementY);this.$emit("onStateChange",{verticalOffset:l,center:u,hovered:t,dragMoved:!0})}},mouseOut:function(){var e=this.tooltip;e.show=!1},mouseUp:function(e){this.$emit("onStateChange",{dragging:!1,dragMoved:!1,selection:this.dragMoved?this.selection:this.getIntersectingMeasure(e,this.canvas)})},handleWheel:function(e){var t=new we;t.handleWheel(e,this.canvas,this.$props)},getIntersectingMeasure:function(e){var t=Oe(e,this.canvas),n=t.canvasMouseX,r=t.canvasMouseY,a=this.renderedShapes.filter((function(e){var t=Object(E["a"])(e,1),a=t[0],i=a.x,o=a.y,s=a.width,c=a.height;return!(n<i||i+s<n||r<o||o+c<r)}));return a.length>0?a[0][1]:null}}}),Ne=(n("7cc0"),L()(Ze,[["render",Re],["__scopeId","data-v-2c4a0b52"]])),_e={class:"wrap"},Le=["width"];function Ge(e,t,n,a,i,o){return Object(r["J"])(),Object(r["m"])("div",_e,[Object(r["n"])("canvas",{class:"area",ref:"canvas",style:Object(r["A"])({width:"".concat(e.viewportWidth,"px"),height:"".concat(14,"px")}),width:e.viewportWidth},null,12,Le)])}var Ue=Object(r["r"])({props:{extents:{type:Object,default:function(){return{startOffset:0,endOffset:0,size:0}}},center:{type:Number,default:0},viewportWidth:{type:Number,default:0},zoom:{type:Number,default:1},minZoom:{type:Number,default:0},defaultZoom:{type:Number,default:0},zooming:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},dragMoved:{type:Boolean,default:!1}},watch:{center:function(){this.didUpdate()},viewportWidth:function(){this.didUpdate()}},methods:{init:function(){var e=this.$refs.canvas,t=this.getCanvasContext(e);t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height),this.center&&this.render(t)},didUpdate:function(){var e=this;this.$nextTick((function(){e.init()}))},render:function(e){var t=this.extents,n=t.startOffset,r=t.size,a=this.zoom,i=this.center,o=this.viewportWidth,s=(i-n)/r,c=o/(r*a),u=s-c/2,l=s+c/2,d=10,h=6,f=Math.max(u,0)*r,p=Math.min(l,1)*r,m=(p-f)/h,v=Math.round(o/h);e.font="10px Lucida Grande",e.fillStyle="#666",e.fillText("".concat(Math.round(f)),0,10);for(var g=1;g<h;g++)e.fillText("".concat(Math.round(f+m*g)),0+v*g-d,10);e.fillText("".concat(Math.round(p)),this.viewportWidth-30,10)},getCanvasContext:function(e){return Object(q["a"])((function(e){if(e){var t=e.getContext(ge,he?{alpha:!1}:{});if(fe){var n=be(e);t.scale(n,n)}return t}}))(e)}}}),Xe=(n("c241"),L()(Ue,[["render",Ge],["__scopeId","data-v-98824e0a"]])),qe=!1,Ye=Object(r["r"])({components:{MiniShow:De,CanvasRender:Ne,TimeLine:Xe},props:{startTime:{type:Number,default:0},endTime:{type:Number,default:0},truncateLabels:{type:Boolean,default:!1},trace:{type:Array,default:function(){return[]}},traceMap:{type:Object,default:function(){return new Map}},viewportWidth:{type:Number,default:0},viewportHeight:{type:Number,default:0},persistView:{type:Boolean}},data:function(){return{renderableTrace:[],renderableTraceGroups:[],dragging:!1,dragMoved:!1,selection:null,hovered:{measure:""},center:0,verticalOffset:0,defaultCenter:0,zoom:.2,defaultZoom:1,zooming:!1,miniZoom:0,extents:{startOffset:"",endOffset:"",size:""}}},methods:{init:function(){var e;this.renderableTrace.splice(0,this.renderableTrace.length),(e=this.renderableTrace).push.apply(e,Object(X["a"])(this.transformTrace(this.trace))),this.renderableTraceGroups=this.traceMap,this.extents=this.getExtents(),this.defaultCenter=this.caleDefaultCenter(),this.center=this.caleCenter(),this.zoom=this.caleZoom(),this.miniZoom=this.getMinZoom(),this.$refs.minishow.init(),this.$refs.timeline.init(),this.$refs.canvasrender.init()},transformTrace:Object(q["a"])((function(e){return e})),loadValue:function(e,t){var n=localStorage.getItem(e);if((this.persistView||qe)&&null!==n){var r=parseFloat(n);if(!Number.isNaN(r))return r}return t},caleCenter:function(){var e=this.defaultCenter;return this.loadValue("center",e)},caleDefaultCenter:function(){var e=this.extents.startOffset;return e+this.viewportWidth/re/2},caleZoom:function(){return this.loadValue("zoom",this.defaultZoom)},getExtents:function(){var e=this.transformTrace(this.trace),t=this.startTime,n=this.endTime;if(e.length>=0&&t&&n)return{startOffset:t,endOffset:n,size:n-t};var r=this.startTime?this.startTime:e[0]?e[0].measure.startTime:0,a=e.length>0?e[e.length-1]:{measure:{startTime:0,duration:0}},i=this.endTime?this.endTime:a.measure.startTime+a.measure.duration;return{startOffset:r,endOffset:i,size:i-r}},handleStateChange:function(e){var t=this;Object.keys(e).forEach((function(n){"zoom"===n&&null!==e.zoom?t.zoom=t.clampZoom(e.zoom):"center"===n&&null!==e.center?t.center=t.clampCenter(e.center):t[n]=e[n]}))},clampZoom:function(e){return Math.max(this.getMinZoom(),Math.min(se,e))},clampCenter:function(e){var t=this.extents,n=t.startOffset,r=t.endOffset;return Math.max(n,Math.min(r,e))},getMinZoom:function(){var e=this.extents.size;return this.viewportWidth/e}}}),Je=L()(Ye,[["render",U]]),Ke={title:{},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(e){var t=e.length>2?e.slice(1):e,n="时间点: ".concat(t[0].axisValue," ms<br/>"),r=n;return t.forEach((function(e){e.data[1]&&(r="".concat(r).concat(e.seriesName,": ").concat(e.data[1],"<br/>"))})),r===n?"":r}},grid:{left:"50px",right:"50px",top:"50px",bottom:"40px"},legend:{data:[{name:"UI FPS"},{name:"Raster FPS"}]},dataZoom:[{type:"inside",xAxisIndex:[0],start:0,end:100,minValueSpan:10}],xAxis:{type:"value",name:"ms",show:!0,axisTick:{show:!1},min:0},yAxis:{type:"value",name:"FPS",axisTick:{show:!0},min:0,splitLine:{show:!0,lineStyle:{color:["#FFF","#DDD","#FFF","#FFF","#DDD","#FFF","#FFF","#FFF","#DDD"]}}},series:[{name:"Raster FPS",type:"line",step:"true",symbol:"none",data:[[65,60],[308,60],[309,0],[472,0],[473,55],[490,55],[491,0],[501,0],[512,43],[552,43],[553,0],[580,0],[581,74],[596,74]],emphasis:{focus:"series"},areaStyle:{},select:{itemStyle:{borderWidth:2}}},{name:"UI FPS",type:"line",step:"true",symbol:"none",data:[[17,40],[303,40],[304,0],[402,0],[403,65],[460,65],[461,0],[501,0],[502,33],[549,33],[550,0],[560,0],[561,78],[566,78]],areaStyle:{},select:{itemStyle:{borderWidth:2}}}]},Qe=n("d257"),et=n("a313"),tt=n("79f6"),nt=(n("46dc"),!0),rt=200,at=30,it=50,ot=nt?400:window.innerHeight-rt-at,st=window.innerWidth-2*it,ct=Object(Qe["getUrlParam"])("platform")===et["a"].IOS,ut=Object(r["r"])({name:"Performance",setup:function(){var e=Object(R["b"])(),t=Object(r["Z"])(e.state),n=t.renderCoreTrace,a=t.renderCoreTraceMap,i=t.renderV8Trace,o=t.renderV8TraceMap,s=t.startTime,c=t.endTime,u=t.operatState,l=t.timelineEventsStr,d=Object(r["Z"])(e.getters),h=d.startBtnDisabled,f=d.endBtnDisabled,p=d.clearBtnDisabled,m=d.isInitState,v=d.isCollectingState,g=d.isAnalysingState,b=d.isCollectedState,O=Object(r["O"])(st),w=Object(r["O"])(ot),y=Object(r["O"])(null),j=Object(r["O"])(null),x=Object(r["O"])(null);Object(r["G"])((function(){window.onresize=B()((function(){O.value=window.innerWidth-2*it,y&&y.value.resize()}),400,{leading:!0})}));var M=function(){e.commit("setOperateState",et["d"].collected),Object(r["y"])((function(){y.value.init(),j.value.init(),x.value.init()}))};return{renderCoreTrace:n,renderCoreTraceMap:a,renderV8Trace:i,renderV8TraceMap:o,startTime:s,endTime:c,operatState:u,timelineEventsStr:l,startBtnDisabled:h,endBtnDisabled:f,clearBtnDisabled:p,isInitState:m,isCollectingState:v,isAnalysingState:g,isCollectedState:b,viewportWidth:O,viewportHeight:w,chartRef:y,coreFlamegraphRef:j,v8flamegraphRef:x,initVisualization:M}},data:function(){return{option:Ke,isIOS:ct}},components:{FlameGraph:Je,PerformanceChart:G},created:function(){ct&&Object(tt["a"])(this.onTraceDataCollected)},beforeDestroy:function(){Object(tt["o"])(this.onTraceDataCollected)},methods:{onTraceDataCollected:function(e,t){this.$store.dispatch("setV8Trace",{error:e,json:t}),this.initVisualization()},start:function(){this.$store.dispatch("start")},stop:function(){var e=this;this.$store.dispatch("end"),this.$store.dispatch("getFrameTimings").then((function(t){e.refreshChartData(t)})),this.$store.dispatch("getTimeline").then((function(){e.initVisualization()})),ct||this.$store.dispatch("getV8Trace").then((function(){e.initVisualization()}))},refreshChartData:function(e){var t=Object(E["a"])(e,3),n=t[0],r=t[1],a=t[2],i=P()(this.option);i.series[0].data=r,i.series[1].data=n,i.xAxis.max=a,this.option=i},clear:function(){this.refreshChartData([[],[],0]),this.$store.dispatch("clear"),this.$store.commit("setOperateState",et["d"].init)},exportData:function(){var e=this.timelineEventsStr,t="data:application/json;charset=utf-8,+ ".concat(encodeURIComponent(e)),n="tdf_devtools_events_".concat((new Date).getTime(),".json"),r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("download",n),r.click()},updateFlameData:function(e){console.log("updateFlameData index".concat(e))}}}),lt=(n("fe1a"),L()(ut,[["render",D],["__scopeId","data-v-2bd90b7e"]])),dt=n("b85c"),ht=(n("96cf"),n("e9c4"),n("277d"),n("9ab4")),ft=(n("e25e"),1e6),pt=function(e,t){var n=(e-t)/ft/1e3,r=n?parseInt(String(1/n)):0;return r},mt=function(e,t,n){if(!(null===e||void 0===e?void 0:e.frameTimings))return[];var r=e.frameTimings;if(!Array.isArray(r))return[];var a,i,o,s=[],c=[];return t||(t=parseFloat(Object(Qe["preciseRound"])(r[0].ui.e/ft,3))),r.forEach((function(e,n){var u=pt(e.ui.e,e.ui.b),l=pt(e.raster.e,e.raster.b);i&&(s.push([Math.round(i/ft+1-t),0]),s.push([Math.round(e.ui.b/ft-1-t),0])),o&&(c.push([Math.round(o/ft+1-t),0]),c.push([Math.round(e.raster.b/ft-1-t),0])),s.push([Math.round(e.ui.b/ft-t),u]),s.push([Math.round(e.ui.e/ft-t),u]),c.push([Math.round(e.raster.b/ft-t),l]),c.push([Math.round(e.raster.e/ft-t),l]),i=e.ui.e,o=e.raster.e,n===r.length-1&&(a=Math.round(e.raster.e/ft-t))})),n&&(a=Math.round(n-t)),[s,c,a]},vt=1e3,gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vt,n=[],r={},a=new Map,i=new Map,o=[],s=new Map,c={};return Array.isArray(e)||console.log("getData traceEvents not an array"),e.forEach((function(e){var u,l,d,h,f,p,m,v,g,b,O;if(e.ph===et["e"].Complete)c[e.tid].push(e);else if(e.ph===et["e"].Begin)r[e.tid]=Math.max(r[e.tid]||0)+1,c[e.tid]=c[e.tid]||[],c[e.tid].push(e),i.get(e.tid)||i.set(e.tid,new Map),(null===(u=i.get(e.tid))||void 0===u?void 0:u.get(e.name))||null===(l=i.get(e.tid))||void 0===l||l.set(e.name,[]),null===(h=null===(d=i.get(e.tid))||void 0===d?void 0:d.get(e.name))||void 0===h||h.push(e.ts);else if(e.ph===et["e"].End&&c[e.tid]&&(null===(f=i.get(e.tid))||void 0===f?void 0:f.get(e.name))){var w=null===(p=i.get(e.tid))||void 0===p?void 0:p.get(e.name);if(!w||w.length<1)throw new Error("no match start event");var y=w[w.length-1];w.splice(w.length-1,1);var j="".concat(e.name,"_").concat(y);if(a.get(e.tid)||a.set(e.tid,new Map),(null===(m=a.get(e.tid))||void 0===m?void 0:m.get(j))||null===(v=a.get(e.tid))||void 0===v||v.set(j,[]),null===(b=null===(g=a.get(e.tid))||void 0===g?void 0:g.get(j))||void 0===b||b.push(e.ts),c[e.tid].push(e),r[e.tid]-=1,0===r[e.tid]){var x;n.push(c[e.tid]);var M=bt(c[e.tid],a.get(e.tid),t);o.push.apply(o,Object(X["a"])(M)),void 0===s.get(e.tid)?s.set(e.tid,Object(X["a"])(M)):null===(O=s.get(e.tid))||void 0===O||(x=O).push.apply(x,Object(X["a"])(M)),c[e.tid]=[],a.set(e.tid,new Map),i.set(e.tid,new Map)}}else c[e.tid]&&(c[e.tid]=c[e.tid]||[],c[e.tid].push(e))})),{renderTraceMap:s,sequences:n,renderTrace:o}},bt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vt,r=[],a=new Map;e.forEach((function(e){var i;if(e.ph===et["e"].Begin){var o="".concat(e.name,"_").concat(e.ts),s=t.get(o);if(!s||s.length<1)throw new Error("no match end envent");var c=s[s.length-1];s.splice(s.length-1,1);var u=parseFloat(Object(Qe["preciseRound"])(e.ts/n,3));r.push(Object.assign({duration:parseFloat(Object(Qe["preciseRound"])((c-e.ts)/n,3)),startTime:u},e)),a.get(e.name)||a.set(e.name,[]),null===(i=a.get(e.name))||void 0===i||i.push(u)}else if(e.ph===et["e"].End){var l=a.get(e.name);if(!l||l.length<1)throw new Error("no match start event");var d=l[l.length-1];l.splice(l.length-1,1),r.push(Object.assign({startTime:d},e))}else if(e.ph===et["e"].Complete){var h=parseFloat(Object(Qe["preciseRound"])(e.ts/n,3));r.push(Object.assign({startTime:h,duration:parseFloat(Object(Qe["preciseRound"])(e.dur/n,3))},e))}else r.push(Object.assign({},e))}));var i=[],o=[],s={};return r.forEach((function(e){var t=o.length,n="".concat(e.name,"_").concat(e.startTime),r=s["".concat(n)],a=r?r[r.length-1]:void 0,c=o.length;switch(e.ph){case et["e"].Begin:i.push({stackIndex:t,measure:e}),s["".concat(n)]||(s["".concat(n)]=[]),s["".concat(n)].push(t),o.push(e);break;case et["e"].Complete:i.push({stackIndex:t,measure:e});break;case et["e"].End:void 0!==a?(o[a]=null,r.splice(r.length-1,1)):console.log("couldnt find measure to remove");while(c>0&&null===o[c-1])c-=1;o.length!==c&&(o.length=c);break;default:throw new Error("".concat(e.ph," error"))}})),i},Ot=Object(Qe["getUrlParam"])("platform")===et["a"].IOS,wt=5e3,yt=1e6,jt=1e3,xt=Object(R["a"])({state:{startTime:0,endTime:0,operatState:et["d"].init,renderCoreTrace:[],renderCoreTraceMap:new Map,renderV8Trace:[],renderV8TraceMap:new Map,timelineEventsStr:""},getters:{startBtnDisabled:function(e){return!(e.operatState===et["d"].init||e.operatState===et["d"].collected)},endBtnDisabled:function(e){return!(e.operatState===et["d"].collecting)},clearBtnDisabled:function(e){return!(e.operatState===et["d"].collected)},isInitState:function(e){return e.operatState===et["d"].init},isCollectingState:function(e){return e.operatState===et["d"].collecting},isAnalysingState:function(e){return e.operatState===et["d"].analysing},isCollectedState:function(e){return e.operatState===et["d"].collected}},mutations:{setOperateState:function(e,t){switch(t){case et["d"].init:e.operatState===et["d"].collected&&(e.operatState=et["d"].init);break;case et["d"].collecting:e.operatState!==et["d"].init&&e.operatState!==et["d"].collected||(e.operatState=et["d"].collecting);break;case et["d"].analysing:e.operatState===et["d"].collecting&&(e.operatState=et["d"].analysing);break;case et["d"].collected:e.operatState===et["d"].analysing&&(e.operatState=et["d"].collected);break;default:break}}},actions:{start:function(e){var t=e.state,n=e.commit,r=e.dispatch;return Object(ht["a"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(tt["p"])().then((function(e){if(e.result.startTime)return t.startTime=parseFloat(Object(Qe["preciseRound"])(e.result.startTime/yt,3)),void n("setOperateState",et["d"].collecting)}))["catch"]((function(e){e&&r("handleErrorCallback",e)})),Ot&&Object(tt["q"])();case 2:case"end":return e.stop()}}),e)})))},end:function(e){var t=e.state,n=e.commit,r=e.dispatch;return Object(ht["a"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(tt["d"])().then((function(e){if(e.result.endTime)return t.endTime=parseFloat(Object(Qe["preciseRound"])(e.result.endTime/yt,3)),void n("setOperateState",et["d"].analysing)}))["catch"]((function(e){e&&r("handleErrorCallback",e)})),Ot&&Object(tt["e"])();case 2:case"end":return e.stop()}}),e)})))},clear:function(e){var t=e.state;return Object(ht["a"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.timelineEventsStr="";case 1:case"end":return e.stop()}}),e)})))},getFrameTimings:function(e){var t=e.state,n=e.dispatch;return Object(ht["a"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(tt["l"])();case 3:return r=e.sent,e.abrupt("return",mt(r.result,t.startTime,t.endTime));case 7:if(e.prev=7,e.t0=e["catch"](0),!e.t0){e.next=12;break}return n("handleErrorCallback",e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))},getTimeline:function(e){var t,n=e.state,r=e.dispatch;return Object(ht["a"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var a,i,o,s,c,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(tt["m"])();case 3:i=e.sent,n.timelineEventsStr=JSON.stringify(i.result),(null===(t=i.result)||void 0===t?void 0:t.traceEvents)||console.error("json traceEvents nil"),Array.isArray(i.result.traceEvents)||console.error("traceEvents nil"),o=gt(i.result.traceEvents,1e6),s=o.renderTrace,c=o.renderTraceMap,n.renderCoreTrace.splice(0,n.renderCoreTrace.length),(a=n.renderCoreTrace).push.apply(a,Object(X["a"])(s)),n.renderCoreTraceMap.clear(),u=Object(dt["a"])(c.keys());try{for(u.s();!(l=u.n()).done;)d=l.value,n.renderCoreTraceMap.set(d,c.get(d)||[])}catch(h){u.e(h)}finally{u.f()}e.next=20;break;case 15:if(e.prev=15,e.t0=e["catch"](0),!e.t0){e.next=20;break}return r("handleErrorCallback",e.t0),e.abrupt("return");case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))},getV8Trace:function(e){var t=e.state,n=e.dispatch;return Object(ht["a"])(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,a,i,o,s,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(tt["n"])();case 2:r=e.sent,e.prev=3,i=gt(r.result.traceEvents,1e3),o=i.renderTrace,s=i.renderTraceMap,t.renderV8Trace.splice(0,t.renderV8Trace.length),(a=t.renderV8Trace).push.apply(a,Object(X["a"])(o)),t.renderV8TraceMap.clear(),c=Object(dt["a"])(s.keys());try{for(c.s();!(u=c.n()).done;)l=u.value,t.renderV8TraceMap.set(l,s.get(l)||[])}catch(d){c.e(d)}finally{c.f()}e.next=17;break;case 12:if(e.prev=12,e.t0=e["catch"](3),!e.t0){e.next=17;break}return n("handleErrorCallback",e.t0),e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[3,12]])})))},handleErrorCallback:function(e,t){var n=e.commit;(null===t||void 0===t?void 0:t.code)===wt&&(n("setOperateState",et["d"].init),a["a"].warning({message:"请求超时，请重试",type:"warning",duration:jt}))},setV8Trace:function(e,t){var n,r=e.dispatch,a=e.state,i=t.error,o=t.json;if(i)r("handleErrorCallback",i);else{o.traceEvents=o.value;var s=gt(o.traceEvents,1e3),c=s.renderTrace,u=s.renderTraceMap;a.renderV8Trace.splice(0,a.renderV8Trace.length),(n=a.renderV8Trace).push.apply(n,Object(X["a"])(c)),a.renderV8TraceMap.clear();var l,d=Object(dt["a"])(u.keys());try{for(d.s();!(l=d.n()).done;){var h=l.value;a.renderV8TraceMap.set(h,u.get(h)||[])}}catch(f){d.e(f)}finally{d.f()}}}},modules:{}}),Mt=(n("a471"),n("7dd6"),Object(r["j"])(lt));Mt.use(a["d"]),Mt.use(xt).mount("#app")},"7cc0":function(e,t,n){"use strict";n("0ec7")},b151:function(e,t,n){},c241:function(e,t,n){"use strict";n("4c89")},fe1a:function(e,t,n){"use strict";n("b151")}});
//# sourceMappingURL=core-performance.a84d8a1d.js.map
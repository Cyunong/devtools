{"version":3,"file":"CustomPanel.js","sourceRoot":"","sources":["../../../../../../chrome-devtools/front_end/panels/custom/CustomPanel.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAE,MAAM,2BAA2B,CAAC;AAEhD,IAAI,kBAA+B,CAAC;AACpC,IAAI,SAAS,GAAG,CAAC,CAAC;AAClB,MAAM,OAAO,WAAY,SAAQ,EAAE,CAAC,KAAK,CAAC,KAAK;IACrC,MAAM,CAAoB;IAClC;QACE,KAAK,CAAC,QAAQ,CAAC,CAAC;QAEhB,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,yBAAyB,CAAC,CAAC;QAC3D,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,2CAA2C,CAAC;QACxE,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAE7C,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE;QACvC,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,kBAAkB,IAAI,QAAQ,EAAE;YACnC,kBAAkB,GAAG,IAAI,WAAW,EAAE,CAAC;SACxC;QAED,OAAO,kBAAkB,CAAC;IAC5B,CAAC;IAEO,iBAAiB;QACvB,MAAM,CAAC,gBAAgB,CACrB,SAAS,EACT,CAAC,CAAC,EAAE;YACF,IAAI,CAAC,CAAC,IAAI,KAAK,cAAc,EAAE;gBAC7B,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;aACxE;YACD,IAAI,CAAC,CAAC,IAAI,KAAK,cAAc,EAAE;gBAC7B,SAAS,IAAI,CAAC,CAAC;gBACf,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,WAAW,CAAC,SAAS,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;aAC7D;QACH,CAAC,EACD,KAAK,CACN,CAAC;IACJ,CAAC;CACF","sourcesContent":["import * as UI from '../../ui/legacy/legacy.js';\n\nlet customPanelInstace: CustomPanel;\nlet requestId = 0;\nexport class CustomPanel extends UI.Panel.Panel {\n  private iframe: HTMLIFrameElement;\n  constructor() {\n    super('custom');\n\n    this.iframe = document.createElement('iframe');\n    this.iframe.setAttribute('src', '/extensions/memory.html');\n    this.iframe.style.cssText = 'width: 100%; height: 100%; overflow: auto';\n    this.contentElement.appendChild(this.iframe);\n\n    this.bindEventListener();\n  }\n\n  static instance(opts = { forceNew: null }): CustomPanel {\n    const { forceNew } = opts;\n    if (!customPanelInstace || forceNew) {\n      customPanelInstace = new CustomPanel();\n    }\n\n    return customPanelInstace;\n  }\n\n  private bindEventListener() {\n    window.addEventListener(\n      'message',\n      e => {\n        if (e.data === 'getParentUrl') {\n          this.iframe.contentWindow?.postMessage(window.location.href, e.origin);\n        }\n        if (e.data === 'getRequestId') {\n          requestId -= 1;\n          this.iframe.contentWindow?.postMessage(requestId, e.origin);\n        }\n      },\n      false,\n    );\n  }\n}\n"]}